(()=>{"use strict";var e,t={914:()=>{const e=JSON.parse('{"apiVersion":"1","name":"pdfp/pdfposter","title":"PDF Poster","description":"","category":"design","icon":"pdf","keywords":["PDF poster","Document poster","PDF Embedder"],"editorScript":["file:./index.js","pdfp-public","wp-block-editor"],"editorStyle":"file:./index.css","style":"file:./style-view.css","render":"file:./render.php","viewScript":["file:./view.js","pdfp-public","adobe-viewer"],"textdomain":"pdfp","attributes":{"align":{"type":"string","default":"none"},"alignment":{"type":"string","default":"left"},"file":{"type":"string","default":""},"title":{"type":"string","default":""},"titleFontSize":{"type":"string","default":"16px"},"height":{"type":"string","default":"1122px"},"width":{"type":"string","default":"100%"},"showName":{"type":"boolean","default":false},"print":{"type":"boolean","default":false},"onlyPDF":{"type":"boolean","default":false},"defaultBrowser":{"type":"boolean","default":false},"downloadButton":{"type":"boolean","default":false},"downloadButtonText":{"type":"string","default":"Download File"},"fullscreenButton":{"type":"boolean","default":true},"fullscreenButtonText":{"type":"string","default":"View Fullscreen"},"newWindow":{"type":"boolean","default":false},"protect":{"type":"boolean","default":false},"thumbMenu":{"type":"boolean","default":false},"sidebarOpen":{"type":"boolean","default":false},"initialPage":{"type":"number","default":0},"zoomLevel":{"type":"number"},"alert":{"type":"boolean","default":false},"lastVersion":{"type":"boolean","default":false},"hrScroll":{"type":"boolean","default":false},"additional":{"type":"object","default":{"ID":"","Class":"","CSS":""}},"adobeEmbedder":{"type":"boolean","default":false},"adobeOptions":{"type":"object","default":{"showDownloadPDF":true,"showPrintPDF":true,"showAnnotationTools":true,"showFullScreen":false,"embedMode":"SIZED_CONTAINER"}},"popupBtnStyle":{"type":"object","default":{"background":"#2271b1","color":"#fff","padding":{"top":10,"right":20,"bottom":10,"left":10}}},"popupBtnText":{"type":"string","default":"Open Document"},"CSS":{"type":"string","default":""}},"supports":{"html":false,"lock":false,"align":["full","wide"]},"example":{"attributes":{"preview":true}}}'),t=window.React,l=window.wp.blockEditor,n=window.wp.i18n;function o(e="encode",t=""){const l="abcdefghijklmnopqrstuvwxyz1234567890",n="z1ntg4ihmwj5cr09byx8spl7ak6vo2q3eduf";let o="";if("encode"==e&&""!=t){const e=t.length;for(let a=0;a<e;a++){const e=l.indexOf(t[a]);o+=-1!==e?n[e]:t[a]}}if("decode"==e&&""!=t){const e=t.length;for(let a=0;a<e;a++){const e=t[a],s=n.indexOf(e);o+=-1!==s?l[s]:e}}return o}const a=window.ReactJSXRuntime;function s({attributes:e,id:l}){const{adobeEmbedder:n,adobeOptions:s,file:i,title:d,height:r,width:p,align:c,protect:h,popupBtnText:u}=e,m=(0,t.useRef)(),b=(0,t.useMemo)((()=>({showPrintPDF:!1,showDownloadPDF:!1,showAnnotationTools:!1,embedMode:s.embedMode})),[]);(0,t.useEffect)((()=>{!n&&m.current&&(m.current.innerHTML=""),m?.current&&"LIGHT_BOX"!=s.embedMode&&f(h?b:s)}),[s,n,i,h]),(0,t.useEffect)((()=>{document.getElementById(l)&&(document.getElementById(l).style.height=r)}),[s.embedMode]);const f=e=>{"undefined"!=typeof AdobeDC&&new AdobeDC.View({clientId:o("decode",pdfp?.adobeClientKey),divId:l}).previewFile({content:{location:{url:i}},metaData:{fileName:d||" "}},e)};return pdfp?.adobeClientKey?(0,a.jsx)(a.Fragment,{children:(0,a.jsx)("div",{ref:m,style:{width:`${"LIGHT_BOX"===s?.embedMode?"fit-content":p} `},"data-align":c,children:"LIGHT_BOX"===s?.embedMode?(0,a.jsx)(a.Fragment,{children:(0,a.jsx)("button",{className:`${l}btn`,onClick:()=>{f(h?b:s)},children:u||i?.split(".").slice(0,-1).join(".")})}):(0,a.jsx)("div",{id:l,style:{height:r}})})}):(0,a.jsx)(a.Fragment,{children:"adobe client key missing"})}function i({attributes:e,source:l,RichText:n,setAttributes:o,__,wrapper:s,previewSrc:i}){const{downloadButton:d,protect:r,downloadButtonText:p,fullscreenButton:c,fullscreenButtonText:h,showName:u,titleFontSize:m,title:b,adobeEmbedder:f,newWindow:x}=e;return(0,t.useEffect)((()=>{}),[]),(0,a.jsx)(a.Fragment,{children:!f&&(0,a.jsxs)(a.Fragment,{children:[u&&(0,a.jsx)(n,{tagName:"p",value:b,allowedFormats:[],style:{fontSize:m,margin:"20px"},onChange:e=>o({title:e}),placeholder:__("Title","pdfp")}),(0,a.jsxs)("div",{className:"cta_wrapper",children:[d&&!r&&(0,a.jsx)("a",{className:"pdfp_download",download:!0,target:"blank",href:l,rel:"noreferrer",children:(0,a.jsx)("button",{className:"pdfp_download_btn",children:p})}),c&&!r&&(0,a.jsx)("a",{href:i,rel:"noreferrer",onClick:e=>{"_self"===e.target.parentElement.target&&(!/iPad|iPhone|iPod/.test(navigator.userAgent)||window.MSStream?(e.preventDefault(),s?.querySelector(".iframe_wrapper")?.requestFullscreen()):e.target="blank")},target:x?"blank":"_self",children:(0,a.jsx)("button",{children:h})})]})]})})}const d=function({__,attributes:e,source:l=pdfp?.placeholder||"http://localhost/freemius/wp-content/uploads/2022/02/temp.pdf"}){const{height:n}=e;return(0,a.jsx)(a.Fragment,{children:l.includes("dropbox.com")?(0,a.jsx)("div",{style:{border:"2px solid #ddd"},children:(0,a.jsx)("p",{children:__("Preview is not available for dropbox","pdfp")})}):(0,a.jsx)(t.Fragment,{children:(0,a.jsxs)("div",{className:"iframe_wrapper",children:[(0,a.jsx)("div",{className:"pdfp_frame_overlay"}),(0,a.jsx)("iframe",{className:"pdfp_iframe",height:n,style:{height:n,width:"100%"},src:l}),(0,a.jsx)("span",{className:"close",onClick:()=>{document.exitFullscreen()},children:"Ã—"})]})})})};function r({attributes:e,id:l}){const[n,o]=(0,t.useState)(null),{height:s,popupBtnStyle:i}=e;return(0,t.useEffect)((()=>{o(`.${l}btn {background: ${i?.background}; color: ${i?.color}; padding: ${i?.padding?.top}px ${i?.padding?.right}px ${i?.padding?.bottom}px ${i?.padding?.left}px}`)}),[i,l,s]),(0,a.jsx)("style",{children:n})}function p(e){return e.replace(/https?:/,window.location.protocol)}const c=({attributes:e,RichText:l,setAttributes:n,__,id:c})=>{const{adobeEmbedder:h,file:u,protect:m,alert:b,additional:f,width:x,align:g,print:w,onlyPDF:j,downloadButton:_,thumbMenu:C,hrScroll:v,initialPage:P,zoomLevel:F}=e,[y,S]=(0,t.useState)(""),T=(0,t.useRef)();(0,t.useEffect)((()=>{(async()=>{if(m){let l=p(o("decode",u));l=await async function(e){const t=await fetch(e),l=await t.blob();return URL.createObjectURL(l)}(l),S(l),function(e){function t(t){isNaN(+t)&&(t=100);var l=+new Date,n=+new Date;(isNaN(l)||isNaN(n)||n-l>t)&&(URL.revokeObjectURL(e),alert("please close devtool"))}window.attachEvent?"complete"===document.readyState||"interactive"===document.readyState?(t(),window.attachEvent("onresize",t),window.attachEvent("onmousemove",t),window.attachEvent("onfocus",t),window.attachEvent("onblur",t)):setTimeout(argument.callee,0):(window.addEventListener("load",t),window.addEventListener("resize",t),window.addEventListener("mousemove",t),window.addEventListener("focus",t),window.addEventListener("blur",t))}(l),e=b,t=T.current?.querySelector("iframe"),e?(setTimeout((()=>{t&&(t.contentWindow.document.oncontextmenu=function(e){alert("Right Click Disabled"),e.preventDefault()})}),1e3),document.oncontextmenu=function(e){alert("Right Click Disabled"),e.preventDefault()}):(document.oncontextmenu=function(e){e.preventDefault()},t&&(t.contentWindow.document.oncontextmenu=function(e){e.preventDefault()}))}else S(p(u));var e,t})()}),[u]);const[N,B]=(0,t.useState)(null);return(0,t.useEffect)((()=>{let e="";if(y.includes(window.location.origin))if(window.navigator.userAgent.includes("Edg"))e=`//docs.google.com/gview?embedded=true&url=${y}`;else{let t="&z=auto";F&&(t="&z="+F/100),e=`${pdfp?.dir}pdfjs-new/web/viewer.html?file=${y}${t}&raw=${j?"1":""}&nobaki=${!m&&_?"vera":"false"}&stdono=${w&&!m?"vera":"false"}&open=false&onlypdf=${j?"vera":"false"}&hrscroll=${v?"vera":"false"}&side=${C}#page=${P}`}else y.includes(".google.com")&&(e=y);B(e)}),[j,C,P,m,v,y,F]),(0,a.jsxs)("div",{ref:T,className:`pdfp_wrapper ${f?.Class} align-${g}`,style:{width:x,maxWidth:"100%",display:"inline-block"},children:[(0,a.jsx)(r,{attributes:e,id:c}),y&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(i,{attributes:e,source:y,previewSrc:N,RichText:l,setAttributes:n,__,wrapper:T.current}),h&&(0,a.jsx)(s,{attributes:e,source:y,id:c}),!h&&(0,a.jsx)(d,{source:N,attributes:e,setAttributes:n,__,wrapper:T.current})]})]})},h=window.wp.components,u=e=>{const{value:l,title:n="",defaultColor:o,onChange:s,disableAlpha:i,boxPosition:d="top left",globalColors:r=[]}=e,[p,c]=(0,t.useState)(l);return(0,a.jsx)(h.Dropdown,{position:d,renderToggle:({isOpen:e,onToggle:t})=>(0,a.jsxs)("div",{style:{display:"flex"},children:[o&&o!=p&&(0,a.jsx)(h.Button,{icon:"image-rotate",className:"bColorReset",onClick:()=>{s(o),c(o)}}),(0,a.jsx)("div",{className:"BColorButtonContainer",children:(0,a.jsx)("button",{className:"BColorButton",title:n,onClick:t,"aria-expanded":e,style:l?{backgroundColor:l}:{backgroundColor:"transparent"}})})]}),renderContent:({isOpen:e,onClose:n})=>(0,a.jsxs)(t.Fragment,{children:[(0,a.jsx)(h.ColorPicker,{color:l||"",onChangeComplete:e=>{s(`rgba(${e.rgb.r}, ${e.rgb.g}, ${e.rgb.b}, ${e.rgb.a})`),c(e.hex)},disableAlpha:i||!1}),r.length>0&&(0,a.jsx)("div",{style:{display:"flex"},className:"globalColors",children:r.map(((t,n)=>(0,a.jsx)("div",{className:"BColorButtonContainer",children:(0,a.jsx)("button",{className:"BColorButton",onClick:()=>{s(t.color),c(t)},"aria-expanded":e,style:l?{backgroundColor:t.color}:{backgroundColor:"transparent"}})},n)))})]})})},m=h.__experimentalNumberControl,b=e=>{const[l,o]=(0,t.useState)(!1),{enable:{top:s=!0,right:i=!0,bottom:d=!0,left:r=!0},onChange:p,value:c,title:u,label:b,isShiftStepEnabled:f=!0,isDragEnabled:x=!1,shiftStep:g=10,className:w=" ",width:j="250px"}=e,_=(e,t)=>{if(l){const e={...c};e.top=t,e.left=t,e.right=t,e.bottom=t,p(e)}else p({...c,[e]:t})};return(0,a.jsxs)(t.Fragment,{children:[(0,a.jsx)(h.PanelRow,{children:(0,a.jsx)("label",{children:u})}),(0,a.jsx)(h.PanelRow,{children:(0,a.jsxs)("div",{className:w,style:{width:j,maxWidth:"100%",display:"flex"},children:[s&&(0,a.jsx)(m,{label:b.top||(0,n.__)("Top","bsection"),isShiftStepEnabled:f,isDragEnabled:x,onChange:e=>{_("top",parseInt(e))},shiftStep:g,value:c.top}),i&&(0,a.jsx)(m,{label:b.right||(0,n.__)("Right","bsection"),isShiftStepEnabled:f,isDragEnabled:x,onChange:e=>_("right",parseInt(e)),shiftStep:g,value:c.right}),d&&(0,a.jsx)(m,{label:b.bottom||(0,n.__)("Bottom","bsection"),isShiftStepEnabled:f,isDragEnabled:x,onChange:e=>_("bottom",parseInt(e)),shiftStep:g,value:c.bottom}),r&&(0,a.jsx)(m,{label:b.left||(0,n.__)("Left","bsection"),isShiftStepEnabled:f,isDragEnabled:x,onChange:e=>_("left",parseInt(e)),shiftStep:g,value:c.left})]})})]})};b.defaultProps={enable:{},value:{top:0,right:0,bottom:0,left:0},label:{}};const f=b,x=e=>{const{attributes:t,setAttributes:l}=e,{titleFontSize:o,height:s,width:i,showName:d,print:r,onlyPDF:p,defaultBrowser:c,adobeEmbedder:m,downloadButton:b,downloadButtonText:x,fullscreenButton:g,fullscreenButtonText:w,newWindow:j,protect:_,thumbMenu:C,sidebarOpen:v,initialPage:P,zoomLevel:F,alert:y,lastVersion:S,hrScroll:T,adobeOptions:N,popupBtnStyle:B,popupBtnText:k}=t;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(h.PanelBody,{title:(0,n.__)("Settings","pdfp"),initialOpen:!1,children:[(0,a.jsxs)(h.PanelRow,{children:[(0,a.jsx)("label",{htmlFor:"adobeEmbedder",className:"label",children:(0,n.__)("use adobe PDF embedder","pdfp")}),(0,a.jsx)(h.FormToggle,{id:"adobeEmbedder",checked:m,onChange:()=>l({adobeEmbedder:!m})})]}),m&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(h.PanelRow,{children:[(0,a.jsx)("label",{htmlFor:"embedMode",className:"label",children:(0,n.__)("Embed Mode","pdfp")}),(0,a.jsx)(h.SelectControl,{options:[{label:"Sized Container",value:"SIZED_CONTAINER"},{label:"Full Window",value:"FULL_WINDOW"},{label:"In-Line",value:"IN_LINE"},{label:"Lightbox",value:"LIGHT_BOX"}],value:N?.embedMode,onChange:e=>l({adobeOptions:{...N,embedMode:e}})})]}),"LIGHT_BOX"===N?.embedMode&&(0,a.jsx)(h.PanelRow,{children:(0,a.jsx)(h.TextControl,{label:(0,n.__)("Button Text","pdfp"),value:k,onChange:e=>l({popupBtnText:e})})}),["SIZED_CONTAINER","IN_LINE","LIGHT_BOX","FULL_WINDOW"].includes(N?.embedMode)&&(0,a.jsxs)(h.PanelRow,{children:[(0,a.jsx)("label",{htmlFor:"showPrintPDF",className:"label",children:(0,n.__)("Show Print Button","pdfp")}),(0,a.jsx)(h.FormToggle,{id:"showPrintPDF",checked:N?.showPrintPDF,onChange:()=>l({adobeOptions:{...N,showPrintPDF:!N?.showPrintPDF}})})]}),["SIZED_CONTAINER","IN_LINE","LIGHT_BOX","FULL_WINDOW"].includes(N?.embedMode)&&(0,a.jsxs)(h.PanelRow,{children:[(0,a.jsx)("label",{htmlFor:"showDownloadPDF",className:"label",children:(0,n.__)("Show Download Button","pdfp")}),(0,a.jsx)(h.FormToggle,{id:"showDownloadPDF",checked:N?.showDownloadPDF,onChange:()=>l({adobeOptions:{...N,showDownloadPDF:!N?.showDownloadPDF}})})]}),["SIZED_CONTAINER"].includes(N.embedMode)&&(0,a.jsxs)(h.PanelRow,{children:[(0,a.jsx)("label",{htmlFor:"showFullScreen",className:"label",children:(0,n.__)("Show Fullscreen Button","pdfp")}),(0,a.jsx)(h.FormToggle,{id:"showFullScreen",checked:N?.showFullScreen,onChange:()=>l({adobeOptions:{...N,showFullScreen:!N?.showFullScreen}})})]}),["FULL_WINDOW"].includes(N?.embedMode)&&(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)(h.PanelRow,{children:[(0,a.jsx)("label",{htmlFor:"showAnnotationTools",className:"label",children:(0,n.__)("Show Annotation Tools","pdfp")}),(0,a.jsx)(h.FormToggle,{id:"showAnnotationTools",checked:N?.showAnnotationTools,onChange:()=>l({adobeOptions:{...N,showAnnotationTools:!N?.showAnnotationTools}})})]})})]}),!m&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(h.PanelRow,{children:[(0,a.jsx)("label",{htmlFor:"protect",className:"label",children:(0,n.__)("Protect my content","pdfp")}),(0,a.jsx)(h.FormToggle,{id:"protect",checked:_,onChange:()=>l({protect:!_})})]}),_&&(0,a.jsxs)(h.PanelRow,{children:[(0,a.jsx)("label",{htmlFor:"alert",className:"label",children:(0,n.__)("Enable Alert","pdfp")}),(0,a.jsx)(h.FormToggle,{id:"alert",checked:y,onChange:()=>l({alert:!y})})]}),!_&&(0,a.jsxs)(h.PanelRow,{children:[(0,a.jsx)("label",{htmlFor:"print",className:"label",children:(0,n.__)("Allow print","pdfp")}),(0,a.jsx)(h.FormToggle,{id:"print",checked:r,onChange:()=>l({print:!r})})]}),(0,a.jsxs)(h.PanelRow,{children:[(0,a.jsx)("label",{htmlFor:"showName",className:"label",children:(0,n.__)("Show title on top","pdfp")}),(0,a.jsx)(h.FormToggle,{id:"showName",checked:d,onChange:()=>l({showName:!d})})]}),(0,a.jsxs)(h.PanelRow,{children:[(0,a.jsx)("label",{htmlFor:"onlyPDF",className:"label",children:(0,n.__)("Raw PDF","pdfp")}),(0,a.jsx)(h.FormToggle,{id:"onlyPDF",checked:p,onChange:()=>l({onlyPDF:!p})})]}),!_&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(h.PanelRow,{children:[(0,a.jsx)("label",{htmlFor:"defaultBrowser",className:"label",children:(0,n.__)("Use browser pdf viewer","pdfp")}),(0,a.jsx)(h.FormToggle,{id:"defaultBrowser",checked:c,onChange:()=>l({defaultBrowser:!c})})]}),(0,a.jsxs)(h.PanelRow,{children:[(0,a.jsx)("label",{htmlFor:"downloadButton",className:"label",children:(0,n.__)("Show download button","pdfp")}),(0,a.jsx)(h.FormToggle,{id:"downloadButton",checked:b,onChange:()=>l({downloadButton:!b})})]}),b&&(0,a.jsx)(h.TextControl,{label:"",value:x,onChange:e=>l({downloadButtonText:e})})]}),!_&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(h.PanelRow,{children:[(0,a.jsx)("label",{htmlFor:"fullscreenButton",className:"label",children:(0,n.__)("Show fullscreen button","pdfp")}),(0,a.jsx)(h.FormToggle,{id:"fullscreenButton",checked:g,onChange:()=>l({fullscreenButton:!g})})]}),g&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(h.TextControl,{label:"",value:w,onChange:e=>l({fullscreenButtonText:e})}),(0,a.jsxs)(h.PanelRow,{children:[(0,a.jsx)("label",{htmlFor:"newWindow",className:"label",children:(0,n.__)("Open in new window","pdfp")}),(0,a.jsx)(h.FormToggle,{id:"newWindow",checked:j,onChange:()=>l({newWindow:!j})})]})]})]}),(0,a.jsxs)(h.PanelRow,{children:[(0,a.jsx)("label",{htmlFor:"thumbMenu",className:"label",children:(0,n.__)("Enable thumbnails toggle menu","pdfp")}),(0,a.jsx)(h.FormToggle,{id:"thumbMenu",checked:C,onChange:()=>l({thumbMenu:!C})})]}),C&&(0,a.jsxs)(h.PanelRow,{children:[(0,a.jsx)("label",{htmlFor:"sidebarOpen",className:"label",children:(0,n.__)("Show Thumb by Default","pdfp")}),(0,a.jsx)(h.FormToggle,{id:"sidebarOpen",checked:v,onChange:()=>l({sidebarOpen:!v})})]}),(0,a.jsxs)(h.PanelRow,{children:[(0,a.jsx)("label",{htmlFor:"lastVersion",className:"label",children:(0,n.__)("Load the last version of the PDF","pdfp")}),(0,a.jsx)(h.FormToggle,{id:"lastVersion",checked:S,onChange:()=>l({lastVersion:!S})})]}),(0,a.jsxs)(h.PanelRow,{children:[(0,a.jsx)("label",{htmlFor:"hrScroll",className:"label",children:(0,n.__)("Horizontal Scrollbar","pdfp")}),(0,a.jsx)(h.FormToggle,{id:"hrScroll",checked:T,onChange:()=>l({hrScroll:!T})})]}),(0,a.jsxs)(h.PanelRow,{children:[(0,a.jsx)("label",{className:"label",children:(0,n.__)("Initail page","pdfp")}),(0,a.jsx)(h.__experimentalNumberControl,{isShiftStepEnabled:!0,onChange:e=>l({initialPage:e}),shiftStep:1,value:P})]}),(0,a.jsxs)(h.PanelRow,{children:[(0,a.jsx)("label",{className:"label",children:(0,n.__)("Zoom Level (%)","pdfp")}),(0,a.jsx)(h.__experimentalNumberControl,{help:(0,n.__)("leave empty to set auto","pdfp"),isShiftStepEnabled:!0,onChange:e=>l({zoomLevel:e}),shiftStep:1,value:F})]})]})]}),(0,a.jsxs)(h.PanelBody,{title:(0,n.__)("Style","pdfp"),initialOpen:!1,children:[(0,a.jsxs)(h.PanelRow,{children:[(0,a.jsx)("label",{htmlFor:"Height",className:"label",children:(0,n.__)("Height","pdfp")}),(0,a.jsx)(h.__experimentalUnitControl,{onChange:e=>l({height:e}),value:s,units:[{value:"px",label:"px",default:500},{value:"%",label:"%",default:100},{value:"vh",label:"vh",default:100}],isResetValueOnUnitChange:!0})]}),(0,a.jsxs)(h.PanelRow,{children:[(0,a.jsx)("label",{htmlFor:"width",className:"label",children:(0,n.__)("Width","pdfp")}),(0,a.jsx)(h.__experimentalUnitControl,{onChange:e=>l({width:e}),value:i,units:[{value:"px",label:"px",default:500},{value:"%",label:"%",default:100},{value:"vw",label:"vw",default:100}],isResetValueOnUnitChange:!0})]}),(0,a.jsxs)(h.PanelRow,{children:[(0,a.jsx)("label",{htmlFor:"titleFontSize",className:"label",children:(0,n.__)("Title Font Size","pdfp")}),(0,a.jsx)(h.__experimentalUnitControl,{onChange:e=>l({titleFontSize:e}),value:o,units:[{value:"px",label:"px",default:16},{value:"em",label:"em",default:1},{value:"rem",label:"rem",default:1}],isResetValueOnUnitChange:!0})]})]}),"LIGHT_BOX"===N?.embedMode&&m&&(0,a.jsxs)(h.PanelBody,{title:(0,n.__)("Adobe Lightbox Button Style","pdfp"),children:[(0,a.jsxs)(h.PanelRow,{children:[(0,a.jsx)("label",{children:(0,n.__)("Background","bpm")}),(0,a.jsx)(u,{value:B?.background,onChange:e=>l({popupBtnStyle:{...B,background:e}})})]}),(0,a.jsxs)(h.PanelRow,{children:[(0,a.jsx)("label",{children:(0,n.__)("Text Color","bpm")}),(0,a.jsx)(u,{value:B?.color,onChange:e=>l({popupBtnStyle:{...B,color:e}})})]}),(0,a.jsx)(f,{title:(0,n.__)("Padding","pdfp"),value:B?.padding||{},onChange:e=>l({popupBtnStyle:{...B,padding:e}})})]})]})},g=({attributes:e,setAttributes:o,isSelected:s,isPreset:i=!1,id:d})=>{const r="http://localhost/freemius/wp-content/uploads/2022/02/temp.pdf",{file:p=pdfp?.placeholder||r,title:c,titleFontSize:h,height:u,width:m,showName:b,print:f,onlyPDF:x,downloadButton:g,downloadButtonText:w,fullscreenButton:j,fullscreenButtonText:_,protect:C,thumbMenu:v,hrScroll:P,initialPage:F,zoomLevel:y,additional:S,adobeEmbedder:T,adobeOptions:N,align:B,popupBtnStyle:k,CSS:D,popupBtnText:O}=e,E=(0,t.useRef)(),[R,I]=(0,t.useState)(null),A=(0,t.useMemo)((()=>({showPrintPDF:!1,showDownloadPDF:!1,showAnnotationTools:!1,embedMode:N.embedMode})),[]);(0,t.useEffect)((()=>{!T&&E.current&&(E.current.innerHTML=""),E?.current&&"LIGHT_BOX"!=N.embedMode&&L(C?A:N)}),[N,T,p,C]),(0,t.useEffect)((()=>{document.getElementById(d)&&(document.getElementById(d).style.height=u)}),[N.embedMode]);const L=e=>{"undefined"!=typeof AdobeDC&&new AdobeDC.View({clientId:fpdfAdmin?.adobeClientKey,divId:d}).previewFile({content:{location:{url:p}},metaData:{fileName:c||" "}},e)};return(0,t.useEffect)((()=>{let e="";if(p.includes(window.location.origin)){let t="&z=auto";y&&(t="&z="+y/100),e=`${pdfp?.dir}pdfjs-new/web/viewer.html?file=${p}${t}&raw=${x?"1":""}&nobaki=${!C&&g?"vera":"false"}&stdono=${f&&!C?"vera":"false"}&open=false&onlypdf=${x?"vera":"false"}&hrscroll=${P?"vera":"false"}&side=${v}#page=${F}`}else p.includes(".google.com")&&(e=p);I(e)}),[x,v,F,C,P,p,y]),(0,t.useEffect)((()=>{o({CSS:`.${d}btn {background: ${k?.background}; color: ${k?.color}; padding: ${k?.padding?.top}px ${k?.padding?.right}px ${k?.padding?.bottom}px ${k?.padding?.left}px}`})}),[k,d,u]),(0,a.jsx)("div",{children:T?(0,a.jsx)(a.Fragment,{children:fpdfAdmin?.adobeClientKey?(0,a.jsxs)("div",{className:"pdfp_editor_wrapper pdfp_wrapper",ref:E,style:{width:`${"LIGHT_BOX"===N?.embedMode?"fit-content":m} `},"data-align":B,children:[s?"":(0,a.jsx)("div",{style:{width:"100%",height:"100%",position:"absolute",top:0,left:0,minHeight:"400px"}}),"LIGHT_BOX"===N?.embedMode?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("style",{children:D}),(0,a.jsx)("button",{className:`${d}btn`,onClick:()=>{!i&&L(C?A:N)},children:O||p?.split(".").slice(0,-1).join(".")})]}):(0,a.jsx)("div",{id:d,style:{height:u}})]}):(0,a.jsxs)("div",{style:{padding:"20px",border:"1px solid #ddd"},children:[(0,a.jsx)("h2",{children:(0,n.__)("Adobe Client Key Required to use Adobe Embedder","pdfp")}),(0,a.jsx)("a",{className:"button button-primary",target:"_blank",rel:"noreferrer",href:`${pdfp?.siteUrl}/wp-admin/edit.php?post_type=pdfposter&page=fpdf-settings#tab=cloud-api`,children:(0,n.__)("Generate Client key","pdfp")})]})}):(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("div",{className:`pdfp_wrapper ${s&&"pdfp_editor_wrapper"} ${S.Class}`,style:{width:m},children:[b&&!i&&(0,a.jsx)(l.RichText,{tagName:"p",value:c,allowedFormats:[],style:{fontSize:h,margin:"20px"},onChange:e=>o({title:e}),placeholder:(0,n.__)("Title","pdfp")}),p.includes("dropbox.com")?(0,a.jsxs)("div",{style:{border:"2px solid #ddd"},children:[(0,a.jsx)("p",{children:p}),(0,a.jsx)("p",{children:(0,n.__)("Preview is not available for dropbox","pdfp")})]}):(0,a.jsxs)(t.Fragment,{children:[(0,a.jsxs)("div",{className:"cta_wrapper",children:[g&&!C&&(0,a.jsx)("a",{className:"pdfp_download",onClick:e=>e.preventDefault(),download:!0,href:p,children:(0,a.jsx)("button",{className:"pdfp_download_btn",children:w})}),j&&!C&&(0,a.jsx)("a",{href:R,rel:"noreferrer",onClick:e=>e.preventDefault(),target:"_blank",children:(0,a.jsx)("button",{children:_})})]}),(0,a.jsxs)("div",{className:"iframe_wrapper",children:[(0,a.jsx)("div",{className:"pdfp_frame_overlay"}),(0,a.jsx)("iframe",{className:"pdfp_iframe",height:u,style:{height:u},src:R})]})]})]})})})},w=async(e="GET",t={})=>await jQuery.ajax({method:e,url:pdfp?.ajax_url,dataType:"json",data:{action:"pdf_poster_ajax",nonce:pdfp?.nonce,...t}}).then((e=>e)).catch((e=>console.log({error:e}))),j=e=>{const{attributes:l,setAttributes:o,preset:s,setPreset:i,setModalOpen:d}=e,{statePresets:r=[]}=l,[p,c]=(0,t.useState)(!1),u=e=>{i({...s,preset:{...s.preset,...e}})};return(0,a.jsx)("div",{children:(0,a.jsxs)(h.Modal,{shouldCloseOnClickOutside:!1,title:(0,n.__)("Preset","pdfp"),onRequestClose:()=>{d(!1),i(null)},className:"pdfpPresetModal",children:[(0,a.jsx)(h.TextControl,{value:s.name,onChange:e=>i({...s,name:e})}),(0,a.jsxs)("div",{className:"pdfpPreset",children:[(0,a.jsx)("div",{className:"options",children:(0,a.jsx)(x,{attributes:s.preset||{},setAttributes:u})}),(0,a.jsx)("div",{className:"preview",children:(0,a.jsx)(g,{isPreset:!0,...e,attributes:s.preset,setAttributes:u})})]}),(0,a.jsx)("div",{className:"actionsWrapper",children:(0,a.jsxs)("div",{className:"actions",children:[(0,a.jsx)("div",{}),(0,a.jsxs)("div",{children:[p&&(0,a.jsx)("div",{className:"pdfp_loader"}),(0,a.jsx)(h.Button,{disabled:p,variant:"primary",onClick:async()=>{c(!0);const{addional:e,file:t,title:l,CSS:n,...a}=s.preset,{data:p}=await w("POST",{model:"Presets",method:"create",name:s.name,preset:a,id:s.id});if(c(!1),p){if(s.id)o({statePresets:r.map((e=>e.id===s.id?s:e))});else{const e=[...r,{...s,id:p.id}];o({statePresets:e})}i({...s,id:p.id})}d(!1)},children:s?.id?(0,n.__)("Update","pdfp"):(0,n.__)("Create","pdfp")})]})]})})]})})},_=window.wp.data,C=({label:e,className:t,onChange:l,isPremium:o=!1,Component:s,setOpen:i=(()=>{}),...d})=>(0,a.jsx)(s,{className:`${t} ${o?"":"bplProIdentifier"}`,label:(e=>o?e:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("span",{className:"bplOpacity75",children:e})," ",(0,a.jsx)("span",{className:"labelPro",children:(0,n.__)("Pro","text-domain")})]}))(e),onChange:e=>{o?l(e):i(!0)},isPremium:o,...d}),v=function({value:e,type:n=[],onSelect:o}){return(0,a.jsx)("div",{className:"bMediaUpload",children:(0,a.jsxs)(t.Fragment,{children:[(0,a.jsx)(l.MediaUploadCheck,{children:(0,a.jsx)(l.MediaUpload,{allowedTypes:n,onSelect:e=>o(e.url),render:({open:e})=>(0,a.jsx)(h.Button,{className:"button button-primary",onClick:e,icon:"upload"})})}),(0,a.jsx)(h.PanelRow,{className:"width-100",children:(0,a.jsx)(h.TextControl,{id:"picker_field",value:e,onChange:e=>o(e)})})]})})},P=({setAttributes:e,clientId:t,appId:l,developerKey:n})=>{var o=["https://www.googleapis.com/auth/drive.file"];if(!t||!l||!n)return(0,a.jsx)(a.Fragment,{});var s,i=!1;function d(){window.gapi.auth.authorize({client_id:t,scope:o,immediate:!1},p)}function r(){i=!0,c()}function p(e){e&&!e.error&&(s=e.access_token,c())}function c(){if(i&&s){var e=new google.picker.View(google.picker.ViewId.DOCS);(new google.picker.PickerBuilder).setAppId(l).setOAuthToken(s).addView(e).addView(new google.picker.DocsUploadView).setDeveloperKey(n).setCallback(u).build().setVisible(!0)}}function u(t){t.action==google.picker.Action.PICKED&&(t.docs?.[0]?.embedUrl?e({file:t.docs[0]?.embedUrl}):c())}return(0,a.jsx)(h.PanelRow,{children:(0,a.jsx)("button",{onClick:function(){gapi.load("auth",{callback:d}),gapi.load("picker",{callback:r})},className:"drive-picker-button",children:"Choose From Google Drive"})})},F=e=>{const{getCurrentPostId:o}=(0,_.select)("core/editor"),s=(0,t.useRef)(null),[i,d]=(0,t.useState)(!1),[r,p]=(0,t.useState)(!1),[c,m]=(0,t.useState)(!1),[b,x]=(0,t.useState)(pdfp?.pipe),{attributes:g,preset:j,setPreset:F,setAttributes:y,setModalOpen:S}=e,{file:T,title:N,titleFontSize:B,height:k,width:D,showName:O,print:E,onlyPDF:R,defaultBrowser:I,adobeEmbedder:A,downloadButton:L,downloadButtonText:M,fullscreenButton:$,fullscreenButtonText:U,newWindow:W,alignment:z}=g,{protect:H,thumbMenu:V,sidebarOpen:G,initialPage:X,zoomLevel:Z,alert:K,lastVersion:q,hrScroll:J,additional:Q,adobeOptions:Y,popupBtnStyle:ee,popupBtnText:te,statePresets:le=[]}=g;(0,t.useEffect)((()=>{if("undefined"!=typeof Dropbox){const t={success:e=>{y({file:e?.[0]?.link})},cancel:()=>null,linkType:"preview",multiselect:!1,folderselect:!1};var e=Dropbox.createChooseButton(t);setTimeout((()=>{s.current&&!s.current?.hasChildNodes()&&s.current.appendChild(e)}),1e3)}(async()=>{const{data:e}=await w("GET",{model:"Presets",method:"all"});y({statePresets:e})})()}),[]);const ne=(0,_.select)("core/editor").getCurrentPostType(),oe=o();return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(l.InspectorControls,{style:{marginBottom:"40px"},children:(0,a.jsx)(t.Fragment,{children:(0,a.jsxs)(h.Panel,{children:["pdfposter"===ne&&(0,a.jsx)(h.PanelBody,{children:(0,a.jsx)(h.PanelRow,{children:(0,a.jsxs)("div",{className:"pdfp_front_shortcode",children:[(0,a.jsx)("input",{value:`[pdf id=${oe}]`}),(0,a.jsx)("span",{className:"htooltip",children:(0,n.__)("Copy To Clipboard","pdfp")})]})})}),(0,a.jsxs)(h.PanelBody,{children:[b&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(h.PanelRow,{children:(0,a.jsx)("div",{id:"picker_container",ref:s})}),(0,a.jsx)(P,{setAttributes:y,clientId:fpdfAdmin?.gClientId,appId:fpdfAdmin?.gAppId,developerKey:fpdfAdmin?.gDeveloperKey})]}),(0,a.jsx)(h.PanelRow,{children:(0,a.jsx)("label",{className:"label",children:(0,n.__)("Upload PDF","pdfp")})}),(0,a.jsx)(v,{type:["application/pdf"],onSelect:e=>y({file:e}),value:T,placeholder:"Audio URL"}),b&&(0,a.jsx)(h.TextControl,{disabled:!b,label:(0,n.__)("Title","pdfp"),value:N,onChange:e=>y({title:e})}),!b&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(h.ToggleControl,{label:(0,n.__)("Allow print","pdfp"),id:"print",checked:E,onChange:()=>y({print:!E})}),(0,a.jsx)(h.ToggleControl,{label:(0,n.__)("Show title on top","pdfp"),id:"showName",checked:O,onChange:()=>y({showName:!O})}),(0,a.jsx)(h.TextControl,{label:(0,n.__)("Fullscreen Button Text","pdfp"),value:U,onChange:e=>y({fullscreenButtonText:e})})]})]}),b&&(0,a.jsxs)(h.PanelBody,{title:(0,n.__)("Presets","pdfp"),children:[(0,a.jsx)("div",{className:"pdfp-presets",children:le?.map((e=>(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("div",{className:"pdfp-preset-item",children:[(0,a.jsx)("div",{className:"box",onClick:()=>{y({...e.preset})},children:(0,a.jsx)("span",{children:e.name?.[0]?.toUpperCase()})}),(0,a.jsxs)("div",{className:"actions",children:[(0,a.jsx)(h.Dashicon,{icon:"edit",title:(0,n.__)("Edit","pdfp"),onClick:()=>{F(e),S(!0)}}),(0,a.jsx)(h.Dashicon,{icon:"trash",title:(0,n.__)("Delete","pdfp"),onClick:t=>{t.preventDefault(),p(e.id)}})]}),(0,a.jsx)("p",{children:e?.name||(0,n.__)("Unknown Name","pdfp")})]})})))}),(0,a.jsx)(h.Button,{variant:"primary",onClick:()=>{S(!0);const{statePresets:e,...t}=g;F({preset:t})},children:(0,n.__)("Add New Preset","pdfp")})]}),(0,a.jsxs)(h.PanelBody,{title:(0,n.__)("Settings","pdfp"),initialOpen:!1,children:[(0,a.jsx)(C,{isPremium:b,Component:h.ToggleControl,label:(0,n.__)("use adobe PDF embedder","pdfp"),id:"adobeEmbedder",checked:A,onChange:()=>y({adobeEmbedder:!A})}),(0,a.jsx)(C,{isPremium:b,Component:h.ToggleControl,label:(0,n.__)("Protect my content","pdfp"),id:"protect",checked:H,onChange:()=>y({protect:!H})}),A&&b&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(h.PanelRow,{children:[(0,a.jsx)("label",{htmlFor:"embedMode",className:"label",children:(0,n.__)("Embed Mode","pdfp")}),(0,a.jsx)(h.SelectControl,{options:[{label:"Sized Container",value:"SIZED_CONTAINER"},{label:"Full Window",value:"FULL_WINDOW"},{label:"In-Line",value:"IN_LINE"},{label:"Lightbox",value:"LIGHT_BOX"}],value:Y.embedMode,onChange:e=>y({adobeOptions:{...Y,embedMode:e}})})]}),!H&&(0,a.jsxs)(a.Fragment,{children:["LIGHT_BOX"===Y?.embedMode&&(0,a.jsx)(h.PanelRow,{children:(0,a.jsx)(h.TextControl,{label:(0,n.__)("Button Text","pdfp"),value:te,onChange:e=>y({popupBtnText:e})})}),["SIZED_CONTAINER","IN_LINE","LIGHT_BOX","FULL_WINDOW"].includes(Y.embedMode)&&(0,a.jsxs)(h.PanelRow,{children:[(0,a.jsx)("label",{htmlFor:"showPrintPDF",className:"label",children:(0,n.__)("Show Print Button","pdfp")}),(0,a.jsx)(h.FormToggle,{id:"showPrintPDF",checked:Y?.showPrintPDF,onChange:()=>y({adobeOptions:{...Y,showPrintPDF:!Y?.showPrintPDF}})})]}),["SIZED_CONTAINER","IN_LINE","LIGHT_BOX","FULL_WINDOW"].includes(Y.embedMode)&&(0,a.jsxs)(h.PanelRow,{children:[(0,a.jsx)("label",{htmlFor:"showDownloadPDF",className:"label",children:(0,n.__)("Show Download Button","pdfp")}),(0,a.jsx)(h.FormToggle,{id:"showDownloadPDF",checked:Y?.showDownloadPDF,onChange:()=>y({adobeOptions:{...Y,showDownloadPDF:!Y?.showDownloadPDF}})})]}),["SIZED_CONTAINER"].includes(Y.embedMode)&&(0,a.jsxs)(h.PanelRow,{children:[(0,a.jsx)("label",{htmlFor:"showFullScreen",className:"label",children:(0,n.__)("Show Fullscreen Button","pdfp")}),(0,a.jsx)(h.FormToggle,{id:"showFullScreen",checked:Y?.showFullScreen,onChange:()=>y({adobeOptions:{...Y,showFullScreen:!Y?.showFullScreen}})})]}),["FULL_WINDOW"].includes(Y.embedMode)&&(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)(h.PanelRow,{children:[(0,a.jsx)("label",{htmlFor:"showAnnotationTools",className:"label",children:(0,n.__)("Show Annotation Tools","pdfp")}),(0,a.jsx)(h.FormToggle,{id:"showAnnotationTools",checked:Y?.showAnnotationTools,onChange:()=>y({adobeOptions:{...Y,showAnnotationTools:!Y?.showAnnotationTools}})})]})})]})]}),!A&&(0,a.jsxs)(a.Fragment,{children:[H&&(0,a.jsx)(C,{isPremium:b,Component:h.ToggleControl,label:(0,n.__)("Enable Alert","pdfp"),id:"alert",checked:K,onChange:()=>y({alert:!K})}),!H&&b&&(0,a.jsx)(h.ToggleControl,{label:(0,n.__)("Allow print","pdfp"),id:"print",checked:E,onChange:()=>y({print:!E})}),b&&(0,a.jsx)(h.ToggleControl,{label:(0,n.__)("Show title on top","pdfp"),id:"showName",checked:O,onChange:()=>y({showName:!O})}),(0,a.jsx)(C,{isPremium:b,Component:h.ToggleControl,label:(0,n.__)("Raw PDF","pdfp"),id:"onlyPDF",checked:R,onChange:()=>y({onlyPDF:!R})}),!H&&(0,a.jsxs)(t.Fragment,{children:[(0,a.jsx)(C,{isPremium:b,Component:h.ToggleControl,label:(0,n.__)("Use browser pdf viewer","pdfp"),id:"defaultBrowser",checked:I,onChange:()=>y({defaultBrowser:!I})}),(0,a.jsx)(C,{isPremium:b,Component:h.ToggleControl,label:(0,n.__)("Show download button","pdfp"),id:"downloadButton",checked:L,onChange:()=>y({downloadButton:!L})}),L&&(0,a.jsx)(C,{isPremium:b,Component:h.TextControl,label:"Download Button Text",value:M,onChange:e=>y({downloadButtonText:e})})]}),!H&&(0,a.jsxs)(t.Fragment,{children:[(0,a.jsx)(C,{isPremium:b,Component:h.ToggleControl,label:(0,n.__)("Show fullscreen button","pdfp"),id:"fullscreenButton",checked:$,onChange:()=>y({fullscreenButton:!$})}),$&&(0,a.jsxs)(t.Fragment,{children:[b&&(0,a.jsx)(h.TextControl,{label:(0,n.__)("Fullscreen Button Text","pdfp"),value:U,onChange:e=>y({fullscreenButtonText:e})}),(0,a.jsx)(C,{isPremium:b,Component:h.ToggleControl,label:(0,n.__)("Open fullscreen in new window","pdfp"),id:"newWindow",checked:W,onChange:()=>y({newWindow:!W})})]})]}),!R&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(C,{isPremium:b,Component:h.ToggleControl,label:(0,n.__)("Enable thumbnails toggle menu","pdfp"),id:"thumbMenu",checked:V,onChange:()=>y({thumbMenu:!V})}),V&&(0,a.jsx)(C,{isPremium:b,Component:h.ToggleControl,label:(0,n.__)("Show Thumb by Default","pdfp"),id:"sidebarOpen",checked:G,onChange:()=>y({sidebarOpen:!G})})]}),(0,a.jsx)(C,{isPremium:b,Component:h.ToggleControl,label:(0,n.__)("Load the last version of the PDF","pdfp"),id:"lastVersion",checked:q,onChange:()=>y({lastVersion:!q})}),(0,a.jsx)(C,{isPremium:b,Component:h.ToggleControl,label:(0,n.__)("Horizontal Scrollbar","pdfp"),id:"hrScroll",checked:J,onChange:()=>y({hrScroll:!J})}),(0,a.jsx)(C,{label:(0,n.__)("Initail page","pdfp"),isPremium:b,Component:h.__experimentalNumberControl,isShiftStepEnabled:!0,onChange:e=>y({initialPage:e}),shiftStep:1,value:X}),(0,a.jsx)(C,{label:(0,n.__)("Zoom Level (%)","pdfp"),isPremium:b,Component:h.__experimentalNumberControl,help:(0,n.__)("leave empty to set auto","pdfp"),isShiftStepEnabled:!0,onChange:e=>y({zoomLevel:parseInt(e)}),min:25,max:400,shiftStep:1,value:Z})]})]}),(0,a.jsxs)(h.PanelBody,{title:(0,n.__)("Style","pdfp"),initialOpen:!1,children:[(0,a.jsxs)(h.PanelRow,{children:[(0,a.jsx)("label",{htmlFor:"Height",className:"label",children:(0,n.__)("Height","pdfp")}),(0,a.jsx)(h.__experimentalUnitControl,{onChange:e=>y({height:e}),value:k,units:[{value:"px",label:"px",default:500},{value:"%",label:"%",default:100},{value:"vh",label:"vh",default:100}],isResetValueOnUnitChange:!0})]}),(0,a.jsxs)(h.PanelRow,{children:[(0,a.jsx)("label",{htmlFor:"width",className:"label",children:(0,n.__)("Width","pdfp")}),(0,a.jsx)(h.__experimentalUnitControl,{onChange:e=>y({width:e}),value:D,units:[{value:"px",label:"px",default:500},{value:"%",label:"%",default:100},{value:"vw",label:"vw",default:100}],isResetValueOnUnitChange:!0})]}),b&&(0,a.jsx)(h.__experimentalUnitControl,{label:(0,n.__)("Title Font Size","pdfp"),onChange:e=>y({titleFontSize:e}),value:B,units:[{value:"px",label:"px",default:16},{value:"em",label:"em",default:1},{value:"rem",label:"rem",default:1}],isResetValueOnUnitChange:!0})]}),"LIGHT_BOX"===Y.embedMode&&A&&b&&(0,a.jsxs)(h.PanelBody,{title:(0,n.__)("Adobe Lightbox Button Style","pdfp"),children:[(0,a.jsxs)(h.PanelRow,{children:[(0,a.jsx)("label",{children:(0,n.__)("Background","bpm")}),(0,a.jsx)(u,{value:ee?.background,onChange:e=>y({popupBtnStyle:{...ee,background:e}})})]}),(0,a.jsxs)(h.PanelRow,{children:[(0,a.jsx)("label",{children:(0,n.__)("Text Color","bpm")}),(0,a.jsx)(u,{value:ee?.color,onChange:e=>y({popupBtnStyle:{...ee,color:e}})})]}),(0,a.jsx)(f,{title:(0,n.__)("Padding","pdfp"),value:ee?.padding||{},onChange:e=>y({popupBtnStyle:{...ee,padding:e}})})]}),(0,a.jsxs)(h.PanelBody,{title:(0,n.__)("Additional","pdfp"),initialOpen:!1,children:[(0,a.jsx)(C,{isPremium:b,Component:h.TextControl,label:(0,n.__)("Class","pdfp"),value:Q.Class,onChange:e=>y({additional:{...Q,Class:e}})}),(0,a.jsx)(C,{isPremium:b,Component:h.TextareaControl,label:(0,n.__)("CSS","pdfp"),value:Q.CSS,onChange:e=>y({additional:{...Q,CSS:e}})})]})]})})}),r&&(0,a.jsx)(h.Modal,{title:(0,n.__)("Do you want to delete?","pdfp"),onRequestClose:()=>p(!1),children:(0,a.jsxs)("div",{className:"confirmPresetDelete",children:[c&&(0,a.jsx)("span",{className:"pdfp_loader"}),(0,a.jsx)(h.Button,{disabled:c,variant:"primary",onClick:()=>{d(!0),(async e=>{m(!0);const{data:t}=await(async e=>await jQuery.ajax({method:"POST",url:pdfp?.ajax_url,dataType:"json",data:{action:"pdf_poster_ajax",nonce:pdfp?.nonce,model:"Presets",method:"delete",id:e}}).then((e=>e)).catch((e=>console.log({err:e}))))(e);t&&y({statePresets:le.filter((t=>t.id!==e))}),p(!1),m(!1)})(r)},children:(0,n.__)("Yes","pdfp")})]})}),(0,a.jsx)(l.BlockControls,{children:(0,a.jsx)(l.AlignmentToolbar,{value:z,onChange:e=>y({alignment:e}),describedBy:(0,n.__)("Alert Alignment"),alignmentControls:[{title:(0,n.__)("Alert in left","b-blocks"),align:"left",icon:"align-left"},{title:(0,n.__)("Alert in center","b-blocks"),align:"center",icon:"align-center"},{title:(0,n.__)("Alert in right","b-blocks"),align:"right",icon:"align-right"}]})})]})},y=window.wp.element,S=({setAttributes:e})=>{const[t,o]=(0,y.useState)(""),[s,i]=(0,y.useState)(!0),[d,r]=(0,y.useState)(!0);return(0,a.jsx)(y.Fragment,{children:(0,a.jsxs)(h.Placeholder,{icon:(0,a.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"html5-block-icon",children:[(0,a.jsx)("polygon",{points:"23 7 16 12 23 17 23 7"}),(0,a.jsx)("rect",{x:"1",y:"5",width:"15",height:"14",rx:"2",ry:"2"})]}),instructions:(0,n.__)("Upload a PDF or paste/write PDF URL.","pdfp"),label:(0,n.__)("Upload a PDF ","pdfp"),children:[(0,a.jsx)(l.MediaUploadCheck,{children:(0,a.jsx)(l.MediaUpload,{allowedTypes:["application/pdf"],onSelect:t=>e({file:t.url}),render:({open:e})=>(0,a.jsx)(h.Button,{isPrimary:!0,onClick:e,children:(0,n.__)("Upload","pdfp")})})}),(0,a.jsxs)("div",{className:"h5vpUrlInput",children:[(0,a.jsx)("h3",{style:{fontSize:"15px"},children:" Or "}),(0,a.jsx)("input",{type:"url","aria-label":(0,n.__)("URL","pdfp"),placeholder:(0,n.__)("Paste or type a PDF URL","pdfp"),onChange:e=>{pdfp?.pipe?o(e.target.value):r(!0)},value:t}),(0,a.jsx)(h.Button,{label:(0,n.__)("Apply","pdfp"),type:"submit",onClick:l=>{if(l.preventDefault(),n=t,!new RegExp("https?","i").test(n))return i(!1),!1;var n;i(!0),o(""),e({file:t})},isPrimary:!0,children:(0,n.__)("Apply","pdfp")})]}),!s&&(0,a.jsx)("p",{style:{color:"#bd1818",width:"100%",margin:0},children:(0,n.__)("URL is not valid","pdfp")})]})})};(0,window.wp.blocks.registerBlockType)(e,{edit:function(e){const{attributes:o,setAttributes:s,clientId:i,isSelected:d}=e,{alignment:r,file:p=pdfp?.placeholder,additional:h}=o,u=(0,l.useBlockProps)(),[m,b]=(0,t.useState)(!1),[f,x]=(0,t.useState)({preset:o});(0,t.useEffect)((()=>{}),[]);const g=`pdfp-${i}`;return p?(0,a.jsxs)("div",{...u,style:{textAlign:r},children:[d?"":(0,a.jsx)("div",{style:{width:"100%",height:"100%",position:"absolute",top:0,left:0,minHeight:"400px"}}),(0,a.jsx)("style",{children:h?.CSS}),(0,a.jsx)(F,{setModalOpen:b,...e,setPreset:x}),(0,a.jsx)(c,{attributes:o,RichText:l.RichText,__:n.__,setAttributes:s,editor:!0,id:g}),pdfp?.pipe&&(0,a.jsx)(a.Fragment,{children:m&&(0,a.jsx)(j,{preset:f,setPreset:x,setModalOpen:b,...e,id:g})})]}):(0,a.jsx)(S,{attributes:o,setAttributes:s})},save:()=>null})}},l={};function n(e){var o=l[e];if(void 0!==o)return o.exports;var a=l[e]={exports:{}};return t[e](a,a.exports,n),a.exports}n.m=t,e=[],n.O=(t,l,o,a)=>{if(!l){var s=1/0;for(p=0;p<e.length;p++){l=e[p][0],o=e[p][1],a=e[p][2];for(var i=!0,d=0;d<l.length;d++)(!1&a||s>=a)&&Object.keys(n.O).every((e=>n.O[e](l[d])))?l.splice(d--,1):(i=!1,a<s&&(s=a));if(i){e.splice(p--,1);var r=o();void 0!==r&&(t=r)}}return t}a=a||0;for(var p=e.length;p>0&&e[p-1][2]>a;p--)e[p]=e[p-1];e[p]=[l,o,a]},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={239:0,912:0};n.O.j=t=>0===e[t];var t=(t,l)=>{var o,a,s=l[0],i=l[1],d=l[2],r=0;if(s.some((t=>0!==e[t]))){for(o in i)n.o(i,o)&&(n.m[o]=i[o]);if(d)var p=d(n)}for(t&&t(l);r<s.length;r++)a=s[r],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return n.O(p)},l=self.webpackChunkpdf_poster_pro=self.webpackChunkpdf_poster_pro||[];l.forEach(t.bind(null,0)),l.push=t.bind(null,l.push.bind(l))})();var o=n.O(void 0,[912],(()=>n(914)));o=n.O(o)})();