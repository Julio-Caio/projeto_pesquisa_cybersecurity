(()=>{"use strict";var e,t={475:(e,t,n)=>{n.d(t,{Z:()=>d});var r=n(196),o=n(441),i=n(501);function d({attributes:e,id:t}){const{adobeEmbedder:n,adobeOptions:d,file:a,title:s,height:l,width:c,align:u,protect:p,popupBtnText:f}=e,w=(0,r.useRef)(),m=(0,r.useMemo)((()=>({showPrintPDF:!1,showDownloadPDF:!1,showAnnotationTools:!1,embedMode:d.embedMode})),[]);(0,r.useEffect)((()=>{!n&&w.current&&(w.current.innerHTML=""),w?.current&&"LIGHT_BOX"!=d.embedMode&&h(p?m:d)}),[d,n,a,p]),(0,r.useEffect)((()=>{document.getElementById(t)&&(document.getElementById(t).style.height=l)}),[d.embedMode]);const h=e=>{"undefined"!=typeof AdobeDC&&new AdobeDC.View({clientId:(0,o.Z)("decode",pdfp?.adobeClientKey),divId:t}).previewFile({content:{location:{url:a}},metaData:{fileName:s||" "}},e)};return pdfp?.adobeClientKey?(0,i.jsx)(i.Fragment,{children:(0,i.jsx)("div",{ref:w,style:{width:`${"LIGHT_BOX"===d?.embedMode?"fit-content":c} `},"data-align":u,children:"LIGHT_BOX"===d?.embedMode?(0,i.jsx)(i.Fragment,{children:(0,i.jsx)("button",{className:`${t}btn`,onClick:()=>{h(p?m:d)},children:f||a?.split(".").slice(0,-1).join(".")})}):(0,i.jsx)("div",{id:t,style:{height:l}})})}):(0,i.jsx)(i.Fragment,{children:"adobe client key missing"})}},682:(e,t,n)=>{n.d(t,{Z:()=>d});var r=n(196),o=n(937),i=n(501);function d({attributes:e,source:t,RichText:n,setAttributes:d,__,wrapper:a,previewSrc:s}){const{downloadButton:l,protect:c,downloadButtonText:u,fullscreenButton:p,fullscreenButtonText:f,showName:w,titleFontSize:m,title:h,adobeEmbedder:b,newWindow:v}=e;return(0,r.useEffect)((()=>{}),[]),(0,i.jsx)(i.Fragment,{children:!b&&(0,i.jsxs)(i.Fragment,{children:[w&&(0,i.jsx)(n,{tagName:"p",value:h,allowedFormats:[],style:{fontSize:m,margin:"20px"},onChange:e=>d({title:e}),placeholder:__("Title","pdfp")}),(0,i.jsxs)("div",{className:"cta_wrapper",children:[l&&!c&&(0,i.jsx)("a",{className:"pdfp_download",download:!0,target:"blank",href:t,rel:"noreferrer",children:(0,i.jsx)("button",{className:"pdfp_download_btn",children:u})}),p&&!c&&(0,i.jsx)("a",{href:s,rel:"noreferrer",onClick:e=>{"_self"===e.target.parentElement.target&&((0,o.Z)()?e.target="blank":(e.preventDefault(),a?.querySelector(".iframe_wrapper")?.requestFullscreen()))},target:v?"blank":"_self",children:(0,i.jsx)("button",{children:f})})]})]})})}},551:(e,t,n)=>{n.d(t,{Z:()=>i});var r=n(196),o=n(501);const i=function({__,attributes:e,source:t=pdfp?.placeholder||"http://localhost/freemius/wp-content/uploads/2022/02/temp.pdf"}){const{height:n}=e;return(0,o.jsx)(o.Fragment,{children:t.includes("dropbox.com")?(0,o.jsx)("div",{style:{border:"2px solid #ddd"},children:(0,o.jsx)("p",{children:__("Preview is not available for dropbox","pdfp")})}):(0,o.jsx)(r.Fragment,{children:(0,o.jsxs)("div",{className:"iframe_wrapper",children:[(0,o.jsx)("div",{className:"pdfp_frame_overlay"}),(0,o.jsx)("iframe",{className:"pdfp_iframe",height:n,style:{height:n,width:"100%"},src:t}),(0,o.jsx)("span",{className:"close",onClick:()=>{document.exitFullscreen()},children:"Ã—"})]})})})}},843:(e,t,n)=>{n.d(t,{Z:()=>i});var r=n(196),o=n(501);function i({attributes:e,id:t}){const[n,i]=(0,r.useState)(null),{height:d,popupBtnStyle:a}=e;return(0,r.useEffect)((()=>{i(`.${t}btn {background: ${a?.background}; color: ${a?.color}; padding: ${a?.padding?.top}px ${a?.padding?.right}px ${a?.padding?.bottom}px ${a?.padding?.left}px}`)}),[a,t,d]),(0,o.jsx)("style",{children:n})}},10:(e,t,n)=>{n.d(t,{Z:()=>m});var r=n(196),o=n(586),i=n(552),d=n(684),a=n(441),s=n(475),l=n(682),c=n(551),u=n(843),p=n(131),f=n(365),w=n(501);const m=({attributes:e,RichText:t,setAttributes:n,__,id:m})=>{const{adobeEmbedder:h,file:b,protect:v,alert:g,additional:x,width:j,align:_,print:y,onlyPDF:E,downloadButton:Z,thumbMenu:k,hrScroll:S,initialPage:D,zoomLevel:F}=e,[O,$]=(0,r.useState)(""),P=(0,r.useRef)();(0,r.useEffect)((()=>{(async()=>{if(v){let e=(0,p.Z)((0,a.Z)("decode",b));e=await(0,i.Z)(e),$(e),(0,d.Z)(e),(0,o.Z)(g,P.current?.querySelector("iframe"))}else $((0,p.Z)(b))})()}),[b]);const[N,R]=(0,r.useState)(null);return(0,r.useEffect)((()=>{let e="";if(O.includes(window.location.origin))if((0,f.Z)())e=`//docs.google.com/gview?embedded=true&url=${O}`;else{let t="&z=auto";F&&(t="&z="+F/100),e=`${pdfp?.dir}pdfjs-new/web/viewer.html?file=${O}${t}&raw=${E?"1":""}&nobaki=${!v&&Z?"vera":"false"}&stdono=${y&&!v?"vera":"false"}&open=false&onlypdf=${E?"vera":"false"}&hrscroll=${S?"vera":"false"}&side=${k}#page=${D}`}else O.includes(".google.com")&&(e=O);R(e)}),[E,k,D,v,S,O,F]),(0,w.jsxs)("div",{ref:P,className:`pdfp_wrapper ${x?.Class} align-${_}`,style:{width:j,maxWidth:"100%",display:"inline-block"},children:[(0,w.jsx)(u.Z,{attributes:e,id:m}),O&&(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(l.Z,{attributes:e,source:O,previewSrc:N,RichText:t,setAttributes:n,__,wrapper:P.current}),h&&(0,w.jsx)(s.Z,{attributes:e,source:O,id:m}),!h&&(0,w.jsx)(c.Z,{source:N,attributes:e,setAttributes:n,__,wrapper:P.current})]})]})}},87:(e,t,n)=>{n.d(t,{H:()=>a});const r=window.ReactDOM;var o=n(10),i=n(501);function d({attributes:e,id:t}){return(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(o.Z,{RichText:a,attributes:e,setAttributes:()=>{},__,id:t})})}function a({tag:e="p",value:t=""}){return(0,i.jsx)(e,{children:t})}function __(e,t){return e}document.addEventListener("DOMContentLoaded",(function(){document.querySelectorAll(".wp-block-pdfp-pdf-poster").forEach((e=>{const t=JSON.parse(e.dataset.attributes);e.removeAttribute("data-attributes"),(0,r.createRoot)(e).render((0,i.jsx)(d,{attributes:t,id:e.id}))}))}))},306:(e,t,n)=>{var r=n(196);const o=window.wp.i18n,i=window.wp.components,d=window.wp.blockEditor,a=window.wp.data,s=window.wp.compose;var l=n(501);const c=(0,s.compose)([(0,a.withSelect)((e=>({docs:e("core").getEntityRecords("postType","pdfposter",{per_page:100})})))])((e=>{const{props:{attributes:t,setAttributes:n},docs:r}=e,{data:o}=t;let a;return r&&(a=r.map((e=>({label:e?.title?.rendered||"No title",value:e?.id}))),a=[{label:"Select",value:null},...a]),(0,l.jsx)(d.InspectorControls,{style:{marginBottom:"40px"},children:(0,l.jsx)(i.Panel,{children:(0,l.jsx)(i.PanelBody,{children:(0,l.jsx)(i.SelectControl,{label:"PDF Poster",value:o?.tringle_text,options:a,onChange:e=>n({data:{tringle_text:e}})})})})})}));var u=n(10),p=n(87);(0,window.wp.blocks.registerBlockType)("meta-box/document-embedder",{title:(0,o.__)("PDF Poster Selector","pdfp"),icon:"pdf",category:"design",keywords:[(0,o.__)("PDF Poster","pdfp"),(0,o.__)("PDF Viewer","pdfp")],supports:{html:!1},attributes:{data:{type:"object",default:{tringle_text:""}}},getEditWrapperProps:()=>{},edit:function(e){const{attributes:t,setAttributes:n}=e,{data:{tringle_text:i}}=t,[d,a]=(0,r.useState)({}),[s,f]=(0,r.useState)(null);return(0,r.useEffect)((()=>{f(!0),jQuery.get(pdfp?.siteUrl+"/wp-json/pdfposter/v1/single/"+i,(function(e){a(e),f(!1)}))}),[t]),(0,l.jsxs)(r.Fragment,{children:[(0,l.jsx)(c,{props:e}),s?(0,l.jsx)("h2",{children:"Loading..."}):(0,l.jsx)(u.Z,{attributes:d,RichText:p.H,__:o.__,setAttributes:n,editor:!0})]})},save:()=>null,example:{attributes:!0}})},586:(e,t,n)=>{function r(e,t){e?(setTimeout((()=>{t&&(t.contentWindow.document.oncontextmenu=function(e){alert("Right Click Disabled"),e.preventDefault()})}),1e3),document.oncontextmenu=function(e){alert("Right Click Disabled"),e.preventDefault()}):(document.oncontextmenu=function(e){e.preventDefault()},t&&(t.contentWindow.document.oncontextmenu=function(e){e.preventDefault()}))}n.d(t,{Z:()=>r})},552:(e,t,n)=>{async function r(e){const t=await fetch(e),n=await t.blob();return URL.createObjectURL(n)}n.d(t,{Z:()=>r})},365:(e,t,n)=>{function r(){return window.navigator.userAgent.includes("Edg")}n.d(t,{Z:()=>r})},937:(e,t,n)=>{function r(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream}n.d(t,{Z:()=>r})},131:(e,t,n)=>{function r(e){return e.replace(/https?:/,window.location.protocol)}n.d(t,{Z:()=>r})},684:(e,t,n)=>{function r(e){function t(t){isNaN(+t)&&(t=100);var n=+new Date,r=+new Date;(isNaN(n)||isNaN(r)||r-n>t)&&(URL.revokeObjectURL(e),alert("please close devtool"))}window.attachEvent?"complete"===document.readyState||"interactive"===document.readyState?(t(),window.attachEvent("onresize",t),window.attachEvent("onmousemove",t),window.attachEvent("onfocus",t),window.attachEvent("onblur",t)):setTimeout(argument.callee,0):(window.addEventListener("load",t),window.addEventListener("resize",t),window.addEventListener("mousemove",t),window.addEventListener("focus",t),window.addEventListener("blur",t))}n.d(t,{Z:()=>r})},441:(e,t,n)=>{function r(e="encode",t=""){const n="abcdefghijklmnopqrstuvwxyz1234567890",r="z1ntg4ihmwj5cr09byx8spl7ak6vo2q3eduf";let o="";if("encode"==e&&""!=t){const e=t.length;for(let i=0;i<e;i++){const e=n.indexOf(t[i]);o+=-1!==e?r[e]:t[i]}}if("decode"==e&&""!=t){const e=t.length;for(let i=0;i<e;i++){const e=t[i],d=r.indexOf(e);o+=-1!==d?n[d]:e}}return o}n.d(t,{Z:()=>r})},196:e=>{e.exports=window.React},501:e=>{e.exports=window.ReactJSXRuntime}},n={};function r(e){var o=n[e];if(void 0!==o)return o.exports;var i=n[e]={exports:{}};return t[e](i,i.exports,r),i.exports}r.m=t,e=[],r.O=(t,n,o,i)=>{if(!n){var d=1/0;for(c=0;c<e.length;c++){n=e[c][0],o=e[c][1],i=e[c][2];for(var a=!0,s=0;s<n.length;s++)(!1&i||d>=i)&&Object.keys(r.O).every((e=>r.O[e](n[s])))?n.splice(s--,1):(a=!1,i<d&&(d=i));if(a){e.splice(c--,1);var l=o();void 0!==l&&(t=l)}}return t}i=i||0;for(var c=e.length;c>0&&e[c-1][2]>i;c--)e[c]=e[c-1];e[c]=[n,o,i]},r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={220:0,450:0,722:0};r.O.j=t=>0===e[t];var t=(t,n)=>{var o,i,d=n[0],a=n[1],s=n[2],l=0;if(d.some((t=>0!==e[t]))){for(o in a)r.o(a,o)&&(r.m[o]=a[o]);if(s)var c=s(r)}for(t&&t(n);l<d.length;l++)i=d[l],r.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return r.O(c)},n=self.webpackChunkpdf_poster_pro=self.webpackChunkpdf_poster_pro||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})();var o=r.O(void 0,[722],(()=>r(306)));o=r.O(o)})();